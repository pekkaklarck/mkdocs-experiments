{#-
  Toggle for switching between test automation and process automation modes.
-#}
<form id="rpa-toggle" autocomplete="off"
      class="md-header__button"
      title="Toggle between test and process automation modes">
  <div id="test-mode-icon"
       onclick="toggleTestTaskMode();"
       class="md-icon"
       data-robot-narrow="show">
    {% include ".icons/fontawesome/solid/bug.svg" %}
  </div>
  <div id="test-task-mode-toggle"
       data-robot-narrow="hide">
    <label>
      <input type="checkbox" onclick="toggleTestTaskMode();">
      <span id="rpa-slider"></span>
    </label>
  </div>
  <div id="task-mode-icon"
       onclick="toggleTestTaskMode();"
       class="md-icon"
       data-robot-narrow="hide">
    {% include ".icons/fontawesome/solid/gear.svg" %}
  </div>
</form>
<script>
if (localStorage.getItem('robot-framework-manual-mode') == 'task') {
    document.querySelector("#rpa-toggle input").checked = true;
    document.getElementById('test-mode-icon').setAttribute('data-robot-narrow', 'hide');
    document.getElementById('task-mode-icon').setAttribute('data-robot-narrow', 'show');
}
</script>

{#-
  Dark/light mode switch. Copied directly from the original palette.html.
  Would be better to extend it, but that doesn't seem to be possible.
-#}
<form class="md-header__option" data-md-component="palette">
  {% for option in config.theme.palette %}
    {% set scheme  = option.scheme  | d("default", true) %}
    {% set primary = option.primary | d("indigo", true) %}
    {% set accent  = option.accent  | d("indigo", true) %}
    <input class="md-option" data-md-color-media="{{ option.media }}" data-md-color-scheme="{{ scheme | replace(' ', '-') }}" data-md-color-primary="{{ primary | replace(' ', '-') }}" data-md-color-accent="{{ accent | replace(' ', '-') }}" {% if option.toggle %} aria-label="{{ option.toggle.name }}" {% else %} aria-hidden="true" {% endif %} type="radio" name="__palette" id="__palette_{{ loop.index0 }}">
    {% if option.toggle %}
      <label class="md-header__button md-icon" title="{{ option.toggle.name }}" for="__palette_{{ loop.index % loop.length }}" hidden>
        {% include ".icons/" ~ option.toggle.icon ~ ".svg" %}
      </label>
    {% endif %}
  {% endfor %}
</form>
